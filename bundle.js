(()=>{"use strict";var t={p:""};const e=[{name:"visa",pattern:/^4/},{name:"mir",pattern:/^220[0-4]/},{name:"mastercard",pattern:/^(5[1-5]|2[2-7])/},{name:"amex",pattern:/^3[47]/},{name:"discover",pattern:/^6(?:011|5)/},{name:"jcb",pattern:/^35/},{name:"diners",pattern:/^3(?:0[0-5]|[68])/}];class n{constructor(){this.form=document.getElementById("card-form"),this.input=document.getElementById("card-number"),this.message=document.getElementById("message"),this.cardLogos=document.querySelectorAll(".card-logo")}init(){this.form.addEventListener("submit",this.onSubmit.bind(this)),this.input.addEventListener("input",this.onInput.bind(this))}onSubmit(t){t.preventDefault();const e=this.input.value;this.input.classList.remove("valid-input","invalid-input"),this.message.style.display="none",function(t){if(!/^\d+$/.test(t))return!1;let e=0,n=!1;for(let s=t.length-1;s>=0;s--){let i=parseInt(t.charAt(s),10);n&&(i*=2,i>9&&(i-=9)),e+=i,n=!n}return e%10==0}(e)?(this.input.classList.add("valid-input"),this.message.textContent="Card number is valid",this.message.className="message valid"):(this.input.classList.add("invalid-input"),this.message.textContent="Card number is invalid",this.message.className="message invalid")}onInput(){const t=function(t){for(const n of e)if(n.pattern.test(t))return n.name;return null}(this.input.value);this.cardLogos.forEach(e=>{t&&e.id===t?e.classList.add("active"):e.classList.remove("active")})}}t.p,t.p,t.p,t.p,t.p,t.p,t.p,document.addEventListener("DOMContentLoaded",()=>{(new n).init()})})();