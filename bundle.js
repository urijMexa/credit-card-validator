(()=>{"use strict";var t={p:""};const e=[{name:"visa",pattern:/^4/},{name:"mir",pattern:/^220[0-4]/},{name:"mastercard",pattern:/^(5[1-5]|2[2-7])/},{name:"amex",pattern:/^3[47]/},{name:"discover",pattern:/^6(?:011|5)/},{name:"jcb",pattern:/^35/},{name:"diners",pattern:/^3(?:0[0-5]|[68])/}];class s{constructor(){this.form=document.getElementById("card-form"),this.input=document.getElementById("card-number"),this.message=document.getElementById("message"),this.cardLogos=document.querySelectorAll(".card-logo")}init(){this.form.addEventListener("submit",this.onSubmit.bind(this)),this.input.addEventListener("input",this.onInput.bind(this))}onSubmit(t){t.preventDefault();const e=this.input.value;this.input.classList.remove("valid-input","invalid-input"),function(t){if(!/^\d+$/.test(t))return!1;let e=0,s=!1;for(let n=t.length-1;n>=0;n--){let i=parseInt(t.charAt(n),10);s&&(i*=2,i>9&&(i-=9)),e+=i,s=!s}return e%10==0}(e)?(this.input.classList.add("valid-input"),this.message.textContent="Card number is valid",this.message.className="message valid"):(this.input.classList.add("invalid-input"),this.message.textContent="Card number is invalid",this.message.className="message invalid")}onInput(){const t=function(t){for(const s of e)if(s.pattern.test(t))return s.name;return null}(this.input.value);this.cardLogos.forEach(e=>{t&&e.id===t?e.classList.add("active"):e.classList.remove("active")}),this.message.className="message",this.message.textContent="",this.input.classList.remove("valid-input","invalid-input")}}t.p,t.p,t.p,t.p,t.p,t.p,t.p,document.addEventListener("DOMContentLoaded",()=>{(new s).init()})})();