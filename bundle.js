(()=>{"use strict";var t={p:""};const e=[{name:"diners",pattern:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/},{name:"jcb",pattern:/^35(?:2[89]|[3-8][0-9])[0-9]{12}$/},{name:"amex",pattern:/^3[47][0-9]{13}$/},{name:"visa",pattern:/^4[0-9]{12}(?:[0-9]{3})?$/},{name:"mir",pattern:/^220[0-4][0-9]{12}$/},{name:"mastercard",pattern:/^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/},{name:"discover",pattern:/^6(?:011|5[0-9]{2})[0-9]{12}$/}];class s{constructor(){this.form=document.getElementById("card-form"),this.input=document.getElementById("card-number"),this.message=document.getElementById("message"),this.cardLogos=document.querySelectorAll(".card-logo")}init(){this.form.addEventListener("submit",this.onSubmit.bind(this)),this.input.addEventListener("input",this.onInput.bind(this))}onSubmit(t){t.preventDefault();const e=this.input.value;this.input.classList.remove("valid-input","invalid-input"),function(t){if(!/^\d+$/.test(t))return!1;let e=0,s=!1;for(let n=t.length-1;n>=0;n-=1){let i=parseInt(t.charAt(n),10);s&&(i*=2,i>9&&(i-=9)),e+=i,s=!s}return e%10==0}(e)?(this.input.classList.add("valid-input"),this.message.textContent="Card number is valid",this.message.className="message visible valid"):(this.input.classList.add("invalid-input"),this.message.textContent="Card number is invalid",this.message.className="message visible invalid")}onInput(){const t=function(t){const s=t.replace(/[\s-]/g,"");for(const t of e)if(t.pattern.test(s))return t.name;return null}(this.input.value);this.cardLogos.forEach(e=>{t&&e.id===t?e.classList.add("active"):e.classList.remove("active")}),this.message.className="message",this.message.textContent="",this.input.classList.remove("valid-input","invalid-input")}}t.p,t.p,t.p,t.p,t.p,t.p,t.p,document.addEventListener("DOMContentLoaded",()=>{(new s).init()})})();